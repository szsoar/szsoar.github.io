---
layout: post
title: "After Effects脚本开发入门教程概述"
date: 2025-01-08 14:00:00 +0800  
categories: [AE脚本开发]
tags: [ae,ExtendScript,jsx]
subtitle: "脚本与表达式插件区别"
header-img: "img/post-bg.jpg"  
---



**这是本套教程第一章的第二节，介绍AE脚本与表达式、插件的区别**

**与表达式/插件的区别：**

|              | 脚本(Script)     | 表达式(Expression) | 插件(Plugin)     |
| :----------- | :--------------- | :----------------- | :--------------- |
| **学习难度** | 需要编程基础     | 数学/逻辑表达式    | C++开发          |
| **存放位置** | 独立外部文件     | 属性栏代码         | 安装在AE插件目录 |
| **能力范围** | 全流程自动化控制 | 单一属性动态控制   | 扩展软件功能     |
| **交互作用** | 可创建操作界面   | 仅响应属性变化     | 深度集成到AE系统 |

**1. 表达式（Expressions）**

- **定义**：
      表达式是一种基于 JavaScript 的轻量级代码片段，直接绑定到图层属性（如位置、旋转、透明度等），用于动态控制属性的数值变化。
- **作用**：
  - 通过逻辑和数学公式驱动属性动画（无需手动关键帧）。
  - 在不同属性之间建立动态关联（例如将图层 A 的旋转绑定到图层 B 的位置）。
  - 实现循环、随机、物理模拟等复杂动画效果。
- **特点**：
  - **无需安装**：直接写在属性面板的表达式输入框中。
  - **实时交互**：修改表达式后效果立即生效。
  - **局限性**：只能控制现有属性，无法操作 AE 的全局功能（如创建图层、修改合成设置等）。
- **示例**：

// 让图层持续旋转

time * 360; // 每秒旋转 360 度

// 随机抖动效果

wiggle(5, 10); // 每秒抖动5次，幅度10像素

- **开发语言**：
      After Effects 表达式语法（基于 JavaScript，但有特定内置函数如 linear(), loopOut() 等）。



**2. 脚本（Scripts）**

- **定义**：
      脚本是使用 ExtendScript（Adobe 的 JavaScript 扩展）编写的程序，用于自动化执行复杂的任务或批量操作。
- **作用**：
  - 自动化重复性工作（如批量重命名图层、创建多个合成）。
  - 修改项目结构（如调整合成设置、导出特定图层）。
  - 与外部数据交互（如读取 CSV 文件生成动画）。
  - 甚至可以生成表达式或控制插件参数。
- **特点**：
  - **需要手动执行**：通过 "File > Script > Run Script" 运行 .jsx 或 .jsxbin 文件。
  - **权限更高**：可以访问 AE 的项目、合成、图层层级结构。
  - **灵活性**：能实现复杂的逻辑（条件判断、循环、函数等）。
  - **无法直接渲染效果**：只能操作现有数据，不能创建新的渲染功能。
- **示例**：
  - 批量将图层名称改为 "Layer_01", "Layer_02"...
  - 根据 Excel 表格生成动态图表动画。
  - 知名脚本：Duik Bassel（角色绑定）、Motion 2（快速动画工具）。
- **开发语言**：
      ExtendScript（JavaScript 的超集，支持访问 AE 的 API）。



**3.插件（Plugins）**

- **定义**：
      插件是通过 C/C++ 等编译语言编写的独立模块，用于扩展 After Effects 的核心功能（如新增效果、渲染器、导入导出格式等）。
- **作用**：
  - 添加原生 AE 不具备的功能（如粒子系统、高级光效）。
  - 提升渲染性能（如 GPU 加速运算）。
  - 支持特殊文件格式（如 ProRes 编码、3D 模型导入）。
- **特点**：
  - **需要安装**：通常以 .aex 或 .plugin 文件形式存在。
  - **底层访问**：可直接操作内存和 GPU，效率极高。
  - **独立界面**：许多插件有自定义的 UI 面板和参数。
  - **开发门槛高**：需使用 C/C++ 和 AE SDK。
- **示例**：
  - Trapcode Suite（Particular、Form 等粒子特效）。
  - Optical Flares（镜头光晕生成器）。
  - Element 3D（三维模型渲染）。
- **开发语言**：
      C/C++（通过 Adobe 的 SDK 开发）。

**协同工作场景**

- 脚本可以批量为图层添加表达式。
- 插件生成的参数（如粒子数量）可通过表达式动态控制。
- 脚本可调用插件接口调整其设置。

根据需求选择工具：**表达式用于动画逻辑，脚本用于自动化，插件用于功能扩展**。

