<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScriptUI 在线设计器 - 可视化创建 ExtendScript 面板</title>
  <link rel="stylesheet" href="css/scriptui-styles.css">
</head>

<body>
  <div class="top-toolbar">
    <div class="logo-container">
      <div class="logo">Script<span>UI</span> 设计器</div>
      <div class="copyright">© 2025 szsoar - 可视化 ExtendScript 面板设计工具</div>
    </div>

    <div class="toolbar-center">
      <div class="window-type">
        <span>窗口类型:</span>
        <select id="windowType">
          <option value="palette">面板 (palette)</option>
          <option value="dialog">对话框 (dialog)</option>
          <option value="window">窗口 (window)</option>
        </select>
      </div>

      <div class="layout-controls">
        <button class="layout-btn" data-type="group">分组 (group)</button>
        <button class="layout-btn" data-type="panel">面板 (panel)</button>
        <button class="layout-btn" data-type="tabbedpanel">选项卡 (tabbedpanel)</button>
      </div>
    </div>

    <div class="action-buttons">
      <button class="btn btn-primary" id="previewBtn">预览代码</button>
      <button class="btn btn-success" id="exportBtn">导出脚本</button>
      <button class="btn" id="clearBtn">清空</button>
    </div>
  </div>

  <div class="main-container">
    <div class="controls-panel">
      <div class="panel-section">
        <h3>基本控件</h3>
        <div class="control-item" data-type="button">
          <div class="control-icon">Btn</div>
          <span>按钮 (button)</span>
        </div>
        <div class="control-item" data-type="statictext">
          <div class="control-icon">Txt</div>
          <span>静态文本 (statictext)</span>
        </div>
        <div class="control-item" data-type="edittext">
          <div class="control-icon">Inp</div>
          <span>编辑文本 (edittext)</span>
        </div>
        <div class="control-item" data-type="checkbox">
          <div class="control-icon">Chk</div>
          <span>复选框 (checkbox)</span>
        </div>
        <div class="control-item" data-type="dropdownlist">
          <div class="control-icon">Drp</div>
          <span>下拉列表 (dropdownlist)</span>
        </div>
      </div>

      <div class="panel-section">
        <h3>高级控件</h3>
        <div class="control-item" data-type="slider">
          <div class="control-icon">Sld</div>
          <span>滑块 (slider)</span>
        </div>
        <div class="control-item" data-type="progressbar">
          <div class="control-icon">Prg</div>
          <span>进度条 (progressbar)</span>
        </div>
        <div class="control-item" data-type="listbox">
          <div class="control-icon">Lst</div>
          <span>列表框 (listbox)</span>
        </div>
        <div class="control-item" data-type="radiobutton">
          <div class="control-icon">Rad</div>
          <span>单选按钮 (radiobutton)</span>
        </div>
        <!-- 添加图片控件 -->
        <div class="control-item" data-type="image">
          <div class="control-icon">Img</div>
          <span>图片 (image)</span>
        </div>
      </div>
    </div>

    <div class="hierarchy-panel">
      <h3>层级结构</h3>
      <div class="hierarchy-tree" id="hierarchyTree"></div>
    </div>

    <div class="design-area">
      <div class="design-container">
        <div class="palette-window" id="paletteWindow">
          <div class="palette-header">ScriptUI 面板</div>
          <div class="palette-content" id="paletteContent" data-orientation="column" data-spacing="5"
            data-alignment="left" data-margins="5">
            <div class="empty-state">
              <h3>开始设计您的界面</h3>
              <p>从左侧选择控件，然后点击此处添加</p>
            </div>
          </div>
        </div>
      </div>

      <div class="code-preview" id="codePreview">
        <div class="code-header">
          <h3>生成的 ExtendScript 代码</h3>
          <div class="code-actions">
            <button class="btn btn-primary" id="copyCode">复制代码</button>
            <button class="btn" id="closeCode">关闭</button>
          </div>
        </div>
        <div class="code-content">
          <pre id="generatedCode">// 生成的 ScriptUI 代码将显示在这里
// 点击左侧控件，然后在设计区域点击添加控件
// 选中控件后可以在右侧修改属性</pre>
        </div>
      </div>
    </div>

    <div class="properties-panel">
      <h3>属性</h3>

      <div class="property-group" id="windowProperties">
        <h4>窗口属性</h4>
        <div class="property">
          <label for="windowTitle">标题</label>
          <input type="text" id="windowTitle" value="ScriptUI 面板">
        </div>
        <div class="property">
          <label for="windowOrientation">排列方向</label>
          <select id="windowOrientation">
            <option value="column">垂直 (column)</option>
            <option value="row">水平 (row)</option>
          </select>
        </div>
        <div class="property-row">
          <div class="property">
            <label for="windowSpacing">间距</label>
            <input type="number" id="windowSpacing" min="0" value="5">
          </div>
          <div class="property">
            <label for="windowMargins">边距</label>
            <input type="number" id="windowMargins" min="0" value="5">
          </div>
        </div>
        <div class="property">
          <label for="windowAlignment">对齐方式</label>
          <select id="windowAlignment">
            <option value="left">左对齐 (left)</option>
            <option value="center">居中 (center)</option>
            <option value="right">右对齐 (right)</option>
            <option value="fill">填充 (fill)</option>
          </select>
        </div>
      </div>

      <div class="property-group" id="controlProperties">
        <h4>控件属性</h4>
        <div class="property">
          <label for="controlType">控件类型</label>
          <input type="text" id="controlType" readonly>
        </div>
        <div class="property">
          <label for="controlText">文本</label>
          <input type="text" id="controlText">
        </div>
        <div class="property">
          <label for="controlName">变量名</label>
          <input type="text" id="controlName">
        </div>

        <div class="property-row">
          <div class="property">
            <label for="controlWidth">宽度</label>
            <input type="number" id="controlWidth" min="1">
          </div>
          <div class="property">
            <label for="controlHeight">高度</label>
            <input type="number" id="controlHeight" min="1">
          </div>
        </div>

        <!-- 编辑文本控件特有属性 -->
        <div class="property" id="edittextMultilineProperty" style="display: none;">
          <label>
            <input type="checkbox" id="edittextMultiline"> 多行文本
          </label>
        </div>

        <div class="property" id="edittextScrollableProperty" style="display: none;">
          <label>
            <input type="checkbox" id="edittextScrollable"> 滚动显示
          </label>
        </div>

        <div class="property" id="edittextBorderProperty" style="display: none;">
          <label for="edittextBorder">边框样式</label>
          <select id="edittextBorder">
            <option value="thin">细边框</option>
            <option value="thick">粗边框</option>
            <option value="none">无边框</option>
          </select>
        </div>

        <div class="property" id="dropdownOptionsProperty" style="display: none;">
          <label for="dropdownOptions">选项 (每行一个)</label>
          <textarea id="dropdownOptions" rows="4"></textarea>
        </div>

        <!-- 新增：列表框选项属性 -->
        <div class="property" id="listboxItemsProperty" style="display: none;">
          <label for="listboxItems">列表项 (每行一个)</label>
          <textarea id="listboxItems" rows="4"></textarea>
        </div>

        <div class="property" id="tabbedPanelTabsProperty" style="display: none;">
          <label for="tabbedPanelTabs">选项卡 (每行一个)</label>
          <textarea id="tabbedPanelTabs" rows="4"></textarea>
        </div>

        <!-- 新增：图片控件特有属性 -->
        <div class="property" id="imageUploadProperty" style="display: none;">
          <label>图片</label>
          <button class="btn btn-primary" id="imageUploadBtn" style="width: 100%;">上传图片</button>
          <div class="property-help">支持的格式: PNG, JPG, GIF</div>
        </div>

        <div class="property" id="containerOrientationProperty" style="display: none;">
          <label for="containerOrientation">排列方向</label>
          <select id="containerOrientation">
            <option value="row">水平 (row)</option>
            <option value="column">垂直 (column)</option>
          </select>
        </div>

        <div class="property" id="containerSpacingProperty" style="display: none;">
          <label for="containerSpacing">间距</label>
          <input type="number" id="containerSpacing" min="0" value="5">
        </div>

        <div class="property" id="containerAlignmentProperty" style="display: none;">
          <label for="containerAlignment">对齐方式</label>
          <select id="containerAlignment">
            <option value="left">左对齐 (left)</option>
            <option value="center">居中 (center)</option>
            <option value="right">右对齐 (right)</option>
            <option value="fill">填充 (fill)</option>
          </select>
        </div>

        <div class="property" id="groupRowsProperty" style="display: none;">
          <label for="groupRows">行数 (rows)</label>
          <input type="number" id="groupRows" min="1" value="1">
          <div class="property-help">网格布局中的行数，用于排列子控件</div>
        </div>

        <div class="property" id="groupColumnsProperty" style="display: none;">
          <label for="groupColumns">列数 (columns)</label>
          <input type="number" id="groupColumns" min="1" value="1">
          <div class="property-help">网格布局中的列数，用于排列子控件</div>
        </div>

        <div class="property">
          <button class="btn btn-warning" id="deleteControl" style="width: 100%;">删除选中控件</button>
        </div>
      </div>
    </div>
  </div>

  <div class="status-bar">
    <div class="designer-info">© 2025 szsoar ScriptUI 设计器 - 可视化 ExtendScript 面板设计工具</div>
    <div>状态: 就绪</div>
  </div>

  <script src="js/scriptui-engine.js"></script>
</body>

</html>