<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AE极客工坊 - Markdown到HTML转换器</title>

    <!-- CSS文件 -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Markdown转换器专用样式 */
        .converter-container {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .converter-window {
            background: #2d3748;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
            height: 70vh;
            min-height: 600px;
        }

        .converter-title-bar {
            background: #1a202c;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            user-select: none;
        }

        .converter-window-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            font-weight: 500;
            color: #cbd5e0;
        }

        .converter-window-controls {
            display: flex;
            gap: 12px;
        }

        .converter-window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }

        .converter-close {
            background: #f56565;
        }

        .converter-minimize {
            background: #f6e05e;
        }

        .converter-maximize {
            background: #48bb78;
        }

        .converter-main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .converter-editor-panel,
        .converter-preview-panel {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow: hidden;
        }

        .converter-editor-panel {
            border-right: 1px solid #3a4556;
        }

        .converter-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #3a4556;
        }

        .converter-panel-header h2 {
            font-size: 16px;
            font-weight: 600;
            color: #cbd5e0;
        }

        .converter-panel-actions {
            display: flex;
            gap: 10px;
        }

        .converter-btn {
            background: #4a5568;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s;
        }

        .converter-btn:hover {
            background: #2d3748;
        }

        .converter-btn-primary {
            background: #4299e1;
        }

        .converter-btn-primary:hover {
            background: #3182ce;
        }

        .converter-btn-success {
            background: #48bb78;
        }

        .converter-btn-success:hover {
            background: #38a169;
        }

        .converter-editor {
            flex: 1;
            background: #1a202c;
            border: 1px solid #3a4556;
            border-radius: 6px;
            padding: 15px;
            color: #e2e8f0;
            font-family: 'Fira Code', 'Monaco', 'Cascadia Code', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            overflow: auto;
        }

        #converter-markdown-input {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            color: #e2e8f0;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
            resize: none;
            outline: none;
        }

        #converter-preview {
            flex: 1;
            background: #1a202c;
            border: 1px solid #3a4556;
            border-radius: 6px;
            padding: 15px;
            overflow: auto;
        }

        #converter-html-source {
            flex: 1;
            background: #1a202c;
            border: 1px solid #3a4556;
            border-radius: 6px;
            padding: 15px;
            overflow: auto;
            white-space: pre-wrap;
            font-family: 'Fira Code', monospace;
            display: none;
            color: #cbd5e0;
        }

        .converter-status-bar {
            background: #232b38;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            font-size: 12px;
            color: #a0aec0;
            border-top: 1px solid #3a4556;
        }

        .converter-status-info {
            display: flex;
            gap: 15px;
        }

        /* Markdown 样式 */
        #converter-preview h1 {
            font-size: 2em;
            border-bottom: 1px solid #4a5568;
            padding-bottom: 0.3em;
            margin-top: 1em;
            margin-bottom: 0.8em;
            color: #e2e8f0;
        }

        #converter-preview h2 {
            font-size: 1.5em;
            border-bottom: 1px solid #4a5568;
            padding-bottom: 0.3em;
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            color: #e2e8f0;
        }

        #converter-preview h3 {
            font-size: 1.25em;
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            color: #e2e8f0;
        }

        #converter-preview p {
            margin-bottom: 1em;
            color: #cbd5e0;
        }

        #converter-preview code {
            background-color: #2d3748;
            border-radius: 3px;
            padding: 0.2em 0.4em;
            font-family: monospace;
            color: #feb2b2;
        }

        #converter-preview pre {
            background-color: #2d3748;
            border-radius: 3px;
            padding: 0.8em;
            overflow: auto;
            margin-bottom: 1em;
        }

        #converter-preview pre code {
            background: none;
            padding: 0;
            color: #90cdf4;
        }

        #converter-preview blockquote {
            border-left: 4px solid #4a5568;
            padding-left: 1em;
            color: #a0aec0;
            margin-bottom: 1em;
        }

        #converter-preview table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 1em;
        }

        #converter-preview table th,
        #converter-preview table td {
            border: 1px solid #4a5568;
            padding: 0.5em 1em;
            color: #cbd5e0;
        }

        #converter-preview table th {
            background-color: #2d3748;
            font-weight: 600;
        }

        #converter-preview ul,
        #converter-preview ol {
            margin-bottom: 1em;
            padding-left: 2em;
            color: #cbd5e0;
        }

        #converter-preview hr {
            border: none;
            border-top: 1px solid #4a5568;
            margin: 1.5em 0;
        }

        #converter-preview a {
            color: #63b3ed;
            text-decoration: none;
        }

        #converter-preview a:hover {
            text-decoration: underline;
        }

        #converter-preview img {
            max-width: 100%;
            border-radius: 4px;
            margin: 10px 0;
        }

        /* 拖放区域样式 */
        .converter-drop-zone {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 32, 44, 0.95);
            border: 2px dashed #4299e1;
            border-radius: 12px;
            z-index: 100;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
        }

        .converter-drop-zone i {
            font-size: 48px;
            color: #4299e1;
        }

        .converter-drop-zone.active {
            display: flex;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .converter-main-content {
                flex-direction: column;
            }

            .converter-editor-panel {
                border-right: none;
                border-bottom: 1px solid #3a4556;
            }

            .converter-window {
                height: 85vh;
            }
        }

        /* 滚动条样式 */
        .converter-editor ::-webkit-scrollbar,
        #converter-preview ::-webkit-scrollbar,
        #converter-html-source ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        .converter-editor ::-webkit-scrollbar-track,
        #converter-preview ::-webkit-scrollbar-track,
        #converter-html-source ::-webkit-scrollbar-track {
            background: #2d3748;
        }

        .converter-editor ::-webkit-scrollbar-thumb,
        #converter-preview ::-webkit-scrollbar-thumb,
        #converter-html-source ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 5px;
        }

        .converter-editor ::-webkit-scrollbar-thumb:hover,
        #converter-preview ::-webkit-scrollbar-thumb:hover,
        #converter-html-source ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }

        .converter-section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4299e1;
        }

        .converter-section-title span {
            font-size: 24px;
            font-weight: 600;
            color: #2d3748;
        }
    </style>
</head>

<body>
    <!-- 导航栏 -->
    <header>
        <nav class="navbar">
            <div class="logo-row">
                <a href="index.html" class="logo">
                    <div class="logo-icon">AE</div>
                    <span>极客工坊</span>
                </a>
            </div>

            <div class="nav-links-row">
                <ul class="nav-links">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="./content/ae-effects/index.html">AE特效</a></li>
                    <li><a href="./content/ae-expressions/index.html">AE表达式</a></li>
                    <li><a href="./content/ae-scripting/index.html">AE脚本</a></li>
                    <li><a href="./content/ae-plugins/index.html">AE插件</a></li>
                    <li><a href="./content/downloads/index.html">资源下载</a></li>
                    <li><a href="about.html">关于</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- 转换器内容 -->
    <section class="converter-container">
        <div class="converter-section-title">
            <span>Markdown 到 HTML 转换器</span>
        </div>

        <div class="converter-window">
            <div class="converter-title-bar">
                <div class="converter-window-title">
                    <i class="fas fa-code"></i>
                    <span>MD转换器 - Markdown到HTML转换工具</span>
                </div>
                <div class="converter-window-controls">
                    <div class="converter-window-control converter-minimize"></div>
                    <div class="converter-window-control converter-maximize"></div>
                    <div class="converter-window-control converter-close"></div>
                </div>
            </div>

            <div class="converter-main-content">
                <div class="converter-editor-panel">
                    <div class="converter-panel-header">
                        <h2><i class="fas fa-pencil-alt"></i> Markdown 编辑器</h2>
                        <div class="converter-panel-actions">
                            <button class="converter-btn" id="converter-clear-btn"><i class="fas fa-trash"></i>
                                清空</button>
                            <button class="converter-btn" id="converter-example-btn"><i class="fas fa-magic"></i>
                                示例</button>
                        </div>
                    </div>
                    <div class="converter-editor">
                        <textarea id="converter-markdown-input" placeholder="在此输入 Markdown 内容..."></textarea>
                    </div>
                </div>

                <div class="converter-preview-panel">
                    <div class="converter-panel-header">
                        <h2><i class="fas fa-desktop"></i> HTML 预览</h2>
                        <div class="converter-panel-actions">
                            <button class="converter-btn" id="converter-view-source-btn">
                                <i class="fas fa-code"></i> 查看源代码
                            </button>
                            <button class="converter-btn converter-btn-primary" id="converter-copy-btn">
                                <i class="fas fa-copy"></i> 复制 HTML
                            </button>
                            <button class="converter-btn converter-btn-success" id="converter-export-btn">
                                <i class="fas fa-download"></i> 导出
                            </button>
                        </div>
                    </div>
                    <div id="converter-preview">
                        <div style="text-align: center; padding: 40px 20px; color: #718096;">
                            <i class="fas fa-code" style="font-size: 48px; margin-bottom: 20px;"></i>
                            <p>HTML 预览将在这里显示</p>
                            <p style="font-size: 14px; margin-top: 10px;">在左侧编辑器中输入 Markdown 内容</p>
                        </div>
                    </div>
                    <div id="converter-html-source">
                        <!-- HTML源代码将在这里显示 -->
                    </div>
                </div>
            </div>

            <div class="converter-status-bar">
                <div class="converter-status-info">
                    <span>行数: <span id="converter-line-count">0</span></span>
                    <span>字数: <span id="converter-word-count">0</span></span>
                    <span>字符数: <span id="converter-char-count">0</span></span>
                </div>
                <div class="converter-status-info">
                    <span>MD转换器 v1.1</span>
                </div>
            </div>

            <div class="converter-drop-zone" id="converter-drop-zone">
                <i class="fas fa-file-upload"></i>
                <h3>拖放 Markdown 文件到这里</h3>
                <p>支持 .md 或 .txt 文件</p>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <div data-include-footer="templates/footer.html"></div>

    <!-- 页脚JS -->
    <script src="js/include-footer.js"></script>

    <!-- JavaScript文件 -->
    <script src="js/main.js"></script>
    <script>
        // Markdown转换器功能
        document.addEventListener('DOMContentLoaded', function () {
            const markdownInput = document.getElementById('converter-markdown-input');
            const preview = document.getElementById('converter-preview');
            const htmlSource = document.getElementById('converter-html-source');
            const clearBtn = document.getElementById('converter-clear-btn');
            const copyBtn = document.getElementById('converter-copy-btn');
            const exportBtn = document.getElementById('converter-export-btn');
            const exampleBtn = document.getElementById('converter-example-btn');
            const viewSourceBtn = document.getElementById('converter-view-source-btn');
            const dropZone = document.getElementById('converter-drop-zone');
            const lineCount = document.getElementById('converter-line-count');
            const wordCount = document.getElementById('converter-word-count');
            const charCount = document.getElementById('converter-char-count');

            let isViewingSource = false;
            let currentHtml = '';

            // 示例Markdown内容
            const exampleMarkdown = `# Markdown 示例

## 标题示例
这是一段简单的 Markdown 文本示例。

### 列表
- 列表项 1
- 列表项 2
- 列表项 3

### 代码示例
\`\`\`javascript
function helloWorld() {
    console.log('Hello, World!');
    return true;
}
\`\`\`

### 链接和图片
访问 [OpenAI](https://www.openai.com) 了解更多。

![示例图片](https://via.placeholder.com/150)

### 引用
> 这是一个引用块
> - 作者

### 表格
| 标题1 | 标题2 | 标题3 |
|-------|-------|-------|
| 内容1 | 内容2 | 内容3 |
| 内容4 | 内容5 | 内容6 |

### 强调
这是**粗体**文本，这是*斜体*文本。

### 任务列表
- [x] 已完成的任务
- [ ] 未完成的任务`;

            // 初始示例内容
            markdownInput.value = exampleMarkdown;
            updatePreview();
            updateStats();

            // 监听输入变化
            markdownInput.addEventListener('input', function () {
                updatePreview();
                updateStats();
            });

            // 清空按钮
            clearBtn.addEventListener('click', function () {
                markdownInput.value = '';
                updatePreview();
                updateStats();
            });

            // 示例按钮
            exampleBtn.addEventListener('click', function () {
                markdownInput.value = exampleMarkdown;
                updatePreview();
                updateStats();
            });

            // 查看源代码按钮
            viewSourceBtn.addEventListener('click', function () {
                isViewingSource = !isViewingSource;

                if (isViewingSource) {
                    preview.style.display = 'none';
                    htmlSource.style.display = 'block';
                    // 格式化HTML源代码，使其更易读
                    const formattedHtml = formatHtml(currentHtml);
                    htmlSource.textContent = formattedHtml;
                    viewSourceBtn.innerHTML = '<i class="fas fa-eye"></i> 查看渲染';
                } else {
                    preview.style.display = 'block';
                    htmlSource.style.display = 'none';
                    viewSourceBtn.innerHTML = '<i class="fas fa-code"></i> 查看源代码';
                }
            });

            // 复制HTML按钮
            copyBtn.addEventListener('click', function () {
                const content = isViewingSource ? htmlSource.textContent : generateHTML(preview.innerHTML);
                navigator.clipboard.writeText(content)
                    .then(() => {
                        copyBtn.innerHTML = '<i class="fas fa-check"></i> 已复制!';
                        setTimeout(() => {
                            copyBtn.innerHTML = '<i class="fas fa-copy"></i> 复制 HTML';
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('无法复制文本: ', err);
                    });
            });

            // 导出按钮
            exportBtn.addEventListener('click', function () {
                const content = isViewingSource ? htmlSource.textContent : generateHTML(preview.innerHTML);
                const blob = new Blob([content], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'converted-document.html';
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 0);
            });

            // 更新预览
            function updatePreview() {
                const markdownText = markdownInput.value;
                const htmlText = markdownToHTML(markdownText);
                preview.innerHTML = htmlText;
                currentHtml = htmlText;

                // 如果正在查看源代码，更新源代码视图
                if (isViewingSource) {
                    const formattedHtml = formatHtml(currentHtml);
                    htmlSource.textContent = formattedHtml;
                }
            }

            // 格式化HTML代码，使其更易读
            function formatHtml(html) {
                // 简单的HTML格式化，添加换行和缩进
                let formatted = html
                    .replace(/(>)(<)(\/*)/g, '$1\r\n$2$3') // 在标签之间添加换行
                    .replace(/(<[^>]+>)/g, function (match) {
                        // 为自闭合标签添加换行
                        if (match.startsWith('<img') || match.startsWith('<br') || match.startsWith('<hr') || match.startsWith('<input')) {
                            return match + '\r\n';
                        }
                        return match;
                    });

                return formatted;
            }

            // 更新统计信息
            function updateStats() {
                const text = markdownInput.value;
                const lines = text.split('\n').length;
                const words = text.trim() ? text.trim().split(/\s+/).length : 0;
                const characters = text.length;

                lineCount.textContent = lines;
                wordCount.textContent = words;
                charCount.textContent = characters;
            }

            // Markdown 转 HTML 函数 - 修复段落问题
            function markdownToHTML(markdown) {
                if (!markdown.trim()) {
                    return '<div style="text-align: center; padding: 40px 20px; color: #718096;"><i class="fas fa-code" style="font-size: 48px; margin-bottom: 20px;"></i><p>HTML 预览将在这里显示</p><p style="font-size: 14px; margin-top: 10px;">在左侧编辑器中输入 Markdown 内容</p></div>';
                }

                // 先处理代码块，防止被其他规则影响
                let codeBlocks = [];
                markdown = markdown.replace(/```([\s\S]*?)```/g, function (match, code) {
                    codeBlocks.push(match);
                    return `___CODE_BLOCK_${codeBlocks.length - 1}___`;
                });

                // 处理行内代码
                markdown = markdown.replace(/`([^`]+)`/g, function (match, code) {
                    codeBlocks.push(match);
                    return `___INLINE_CODE_${codeBlocks.length - 1}___`;
                });

                // 标题
                let html = markdown
                    .replace(/^###### (.*$)/gim, '<h6>$1</h6>')
                    .replace(/^##### (.*$)/gim, '<h5>$1</h5>')
                    .replace(/^#### (.*$)/gim, '<h4>$1</h4>')
                    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1>$1</h1>');

                // 粗体和斜体
                html = html.replace(/\*\*(.*?)\*\*/gim, '<strong>$1</strong>');
                html = html.replace(/\*(.*?)\*/gim, '<em>$1</em>');

                // 代码块
                html = html.replace(/```(\w+)?\s([\s\S]*?)```/gim, '<pre><code class="$1">$2</code></pre>');

                // 行内代码
                html = html.replace(/`(.*?)`/gim, '<code>$1</code>');

                // 引用
                html = html.replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>');

                // 水平线
                html = html.replace(/^\-\-\-$/gim, '<hr />');

                // 无序列表
                html = html.replace(/^\s*[\*\-] (.*$)/gim, '<ul><li>$1</li></ul>');

                // 有序列表
                html = html.replace(/^\d+\. (.*$)/gim, '<ol><li>$1</li></ol>');

                // 修复嵌套列表
                html = html.replace(/<\/ul>\s*<ul>/gim, '');
                html = html.replace(/<\/ol>\s*<ol>/gim, '');

                // 链接
                html = html.replace(/\[(.*?)\]\((.*?)\)/gim, '<a href="$2" target="_blank">$1</a>');

                // 图片
                html = html.replace(/\!\[(.*?)\]\((.*?)\)/gim, '<img src="$2" alt="$1" />');

                // 任务列表
                html = html.replace(/^- \[x\] (.*$)/gim, '<div><i class="fas fa-check-square" style="color: #48bb78;"></i> $1</div>');
                html = html.replace(/^- \[ \] (.*$)/gim, '<div><i class="far fa-square"></i> $1</div>');

                // 段落处理 - 关键修改：确保段落正确分隔
                // 首先将连续的两个换行符替换为段落分隔符
                html = html.replace(/\n\n+/g, '</p><p>');
                // 然后将单个换行符也替换为段落分隔符
                html = html.replace(/\n/g, '</p><p>');

                // 确保所有内容都在段落中
                if (!html.startsWith('<h') && !html.startsWith('<ul') && !html.startsWith('<ol') &&
                    !html.startsWith('<blockquote') && !html.startsWith('<hr') && !html.startsWith('<pre')) {
                    html = '<p>' + html + '</p>';
                }

                // 清理空段落
                html = html.replace(/<p><\/p>/g, '');
                html = html.replace(/<p>(\s*)<\/p>/g, '');

                // 恢复代码块
                for (let i = 0; i < codeBlocks.length; i++) {
                    html = html.replace(`___CODE_BLOCK_${i}___`, codeBlocks[i]
                        .replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>'));
                    html = html.replace(`___INLINE_CODE_${i}___`, codeBlocks[i]
                        .replace(/`([^`]+)`/g, '<code>$1</code>'));
                }

                // 表格处理
                html = html.replace(/^\| (.*) \|$/gim, function (match, p1) {
                    const rows = p1.split(' | ');
                    let tableHTML = '<table><thead><tr>';

                    // 表头
                    rows.forEach(cell => {
                        tableHTML += `<th>${cell.trim()}</th>`;
                    });
                    tableHTML += '</tr></thead><tbody>';

                    return tableHTML;
                });

                // 表格行
                html = html.replace(/^\|? (.*) \|?$/gim, function (match, p1) {
                    if (match.includes('<table>') || match.includes('</table>')) {
                        return match;
                    }

                    const cells = p1.split('|').map(cell => cell.trim());
                    let rowHTML = '<tr>';

                    cells.forEach(cell => {
                        // 检查是否为分隔线行
                        if (/^:?-+:?$/.test(cell)) {
                            return;
                        }
                        rowHTML += `<td>${cell}</td>`;
                    });

                    rowHTML += '</tr>';
                    return rowHTML;
                });

                // 闭合表格
                html = html.replace(/<\/tbody>(?!.*<\/tbody>)/gim, '</tbody></table>');

                return html || '<p>输入一些 Markdown 内容以查看预览...</p>';
            }

            // 生成完整的HTML文档
            function generateHTML(content) {
                return `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>转换后的文档</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
            color: #2d3748;
        }
        h1 {
            font-size: 2em;
            border-bottom: 1px solid #eaecef;
            padding-bottom: 0.3em;
        }
        h2 {
            font-size: 1.5em;
            border-bottom: 1px solid #eaecef;
            padding-bottom: 0.3em;
        }
        code {
            background-color: #f1f3f5;
            border-radius: 3px;
            padding: 0.2em 0.4em;
            font-family: monospace;
        }
        pre {
            background-color: #f1f3f5;
            border-radius: 3px;
            padding: 0.8em;
            overflow: auto;
        }
        pre code {
            background: none;
            padding: 0;
        }
        blockquote {
            border-left: 4px solid #dfe2e5;
            padding-left: 1em;
            color: #6a737d;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        table th, table td {
            border: 1px solid #dfe2e5;
            padding: 0.5em 1em;
        }
        table th {
            background-color: #f1f3f5;
            font-weight: 600;
        }
        img {
            max-width: 100%;
        }
    </style>
</head>
<body>
    ${content}
</body>
</html>`;
            }

            // 拖放功能
            document.addEventListener('dragover', function (e) {
                e.preventDefault();
                dropZone.classList.add('active');
            });

            document.addEventListener('dragleave', function (e) {
                if (e.relatedTarget === null) {
                    dropZone.classList.remove('active');
                }
            });

            document.addEventListener('drop', function (e) {
                e.preventDefault();
                dropZone.classList.remove('active');

                const file = e.dataTransfer.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        markdownInput.value = e.target.result;
                        updatePreview();
                        updateStats();
                    };
                    reader.readAsText(file);
                }
            });

            // 窗口控制按钮功能（模拟）
            document.querySelector('.converter-close').addEventListener('click', function () {
                alert('关闭窗口功能仅作演示。在实际应用中，这将关闭窗口。');
            });

            document.querySelector('.converter-minimize').addEventListener('click', function () {
                alert('最小化功能仅作演示。在实际应用中，这将最小化窗口。');
            });

            document.querySelector('.converter-maximize').addEventListener('click', function () {
                alert('最大化功能仅作演示。在实际应用中，这将最大化窗口。');
            });
        });
    </script>
</body>

</html>